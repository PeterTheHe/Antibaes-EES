<!DOCTYPE html>
<html>
<head>
<base target="_top">

<script
src="https://code.jquery.com/jquery-3.1.1.min.js"
integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remodal/1.1.0/remodal.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remodal/1.1.0/remodal-default-theme.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

<script src="//cdn.rawgit.com/namuol/cheet.js/master/cheet.min.js"
        type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/remodal/1.1.0/remodal.min.js"></script>
<title>Robot Diver</title>
<style>
html, body {
height: 90%;
margin: 0;
padding: 0;
width: 100%;
}

body {
display: table;
}

.my-block {
text-align: center;
display: table-cell;
vertical-align: middle;
}
form { margin: 0 auto; }

</style>
</head>
<body>

<div class="my-block">

<h1> LOGO </h1>
<h5><em> Drone Control to Major Tom </em></h5><br/>

<a data-remodal-target="modal"> <small> Help </small> </a>

<br/><hr/><br/>

<textarea id="current-instructions" rows="4" cols="50">  </textarea>

<br/><hr/><br/>

<input type="button" class="instruction-btn btn btn-primary btn-sm" id="Send" value="Send"/>
<input type="button" class="instruction-btn btn btn-primary btn-sm" id="Reset" value="Reset"/>
<input type="button" class="instruction-btn btn btn-primary btn-sm" id="Cancel" value="Cancel"/>


<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>

<footer>
<h4>&copy; 2016 The Antibaes</h4>
<h5> Lovingly built by Rohan and Peter </h5>
<br/>
<small> Keep it simple with <a href="https://script.google.com/macros/s/AKfycbxYrOE4D02GMGRUpAsADew4OK5_EivN3Rm4xZnVgufurI9AxTE/exec?control"> BUTTONS </a></small>
</footer>

<div id="easter-egg-host"> </div>

</div>


<div class="remodal" data-remodal-id="modal">
  <button data-remodal-action="close" class="remodal-close"></button>
  <h1>Antibae-LOGO</h1>
  <em> It's like LOGO but shit and written in under an hour </em><br/> <br/> 
  <p>
    Here's a code sample. In general, it's <code> instruction seconds</code>.
  </p>
  <code style="white-space: pre-wrap; display: block">
    Forwards 1
    Left 2
    Forwards 1
       Up 4    
  </code><br>
  <p> This moves the drone forwards for 1 second, tilts it left for 2, moves it forwards for another 1 and then goes up for 4.</p>

  <br>
  <button data-remodal-action="confirm" class="remodal-confirm">OK</button>
  <br><br>
  <small> NB: Peter was too lazy to implement any error checking so make sure your code is bug-free. Hard can it be? </small>
</div>

<script>

$("#Send").click(function(){

   google.script.run.withFailureHandler(error).doActions( "LOGO " + $("#current-instructions").val().trim() );

});

$("#Cancel").click(function(){

   google.script.run.withFailureHandler(error).doActions("");

});

$("#Reset").click(function(){

   $("#current-instructions").val("");

});

function error(){

   alert ("APESHIT! SOMETHING WENT WRONG");

}

//Konami code bc why not
cheet('↑ ↑ ↓ ↓ ← → ← → b a', function () {
  $("#easter-egg-host").html('<iframe src="https://player.vimeo.com/video/30680384?autoplay=1&loop=1&title=0&byline=0&portrait=0" width="1" height="1" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');
});

</script>
    
  </body>
</html>


